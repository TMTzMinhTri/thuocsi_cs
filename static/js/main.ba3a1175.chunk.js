(this.webpackJsonpcs=this.webpackJsonpcs||[]).push([[1],{113:function(e,t,n){var a={"./layout.reducer.ts":114,"./notification.reducer.ts":115,"./task_manager.reducer.ts":116};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=113},114:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(16),c={user:null,isAuthenticated:!1,loading:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:case r.a:return Object(a.a)(Object(a.a)({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case r.c:return localStorage.clear(),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null});default:return e}}},115:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(19),c={alert:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:return Object(a.a)(Object(a.a)({},e),{},{alert:t.content});case r.a:return Object(a.a)(Object(a.a)({},e),{},{alert:null});default:return e}}},116:function(e,t,n){"use strict";n.r(t);var a=n(8),r=n(25),c={cs_tasks:[],total_count:0,user_detail:null,loading:!0,task_selected:null,userInput:{page:1,per_page:30,failure_type_ids:[],from:"2020-02-01",to:"2020-08-31",user_id:null,so_id:null,status:null}};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.c:return Object(a.a)(Object(a.a)({},e),{},{loading:!0});case r.b:return Object(a.a)(Object(a.a)({},e),{},{cs_tasks:t.payload.cs_tasks,total_count:t.payload.total_count,user_detail:t.payload.user_detail,loading:!1});case r.e:return Object(a.a)(Object(a.a)({},e),{},{userInput:t.payload});case r.a:return Object(a.a)(Object(a.a)({},e),{},{task_selected:t.task_selected,cs_tasks:t.cs_tasks});case r.d:return Object(a.a)(Object(a.a)({},e),{},{task_selected:t.payload});default:return Object(a.a)({},e)}}},133:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(33),u=(n(87),n(88),n(89),n(90),n(26)),l=n(9),s=n(48),d=n(20),f=n(36),m=function(e){var t=e.component,n=e.loading,r=Object(d.a)(e,["component","loading"]);return a.createElement(l.b,Object.assign({},r,{render:function(e){var c=e.location;return n?a.createElement("div",{style:{width:"100vw",height:"100vh"}},a.createElement(f.a,null)):r.isAuthenticated?a.createElement(t,r):a.createElement(l.a,{to:{pathname:"/login",state:{from:c}}})}}))},p=n(68),h=n(17),g=n(52),v=n(76),b=n.n(v),E=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(6)]).then(n.bind(null,255))})),y=r.a.lazy((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,256))})),O=Object(i.b)((function(e){return{layoutState:e.layout,notification:e.notification}}),(function(e){return Object(h.b)({getUser:g.a},e)}))((function(e){var t=e.layoutState,n=e.getUser,a=e.notification;return r.a.useEffect((function(){n()}),[n]),r.a.createElement(u.a,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{style:{width:"100vw",height:"100vh"}},r.a.createElement(s.c,null))},r.a.createElement(p.a,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,render:function(){return r.a.createElement(l.a,{to:"/admin"})}}),r.a.createElement(m,{path:"/admin",component:E,loading:t.loading,isAuthenticated:t.isAuthenticated}),r.a.createElement(l.b,{path:"/login",exact:!0,component:y})),a.alert&&r.a.createElement(b.a,a.alert,a.alert.content)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _=n(24);o.a.render(r.a.createElement(i.a,{store:_.a},r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},16:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a="SIGN_IN_SUCCESS",r="SIGN_OUT",c="GET_CURRENT_USER_SUCCESS"},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SHOW_ALERT_ERROR",r="REMOVE_ALERT_ERROR"},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(17),r=n(75),c=n(113),o={};c.keys().forEach((function(e){var t=e.replace(/(\.\/|\.reducer\.ts)/g,"");o[t]=c(e).default}));var i=Object(a.c)(o),u=a.d,l=[r.a],s=Object(a.e)(i,{},u(a.a.apply(void 0,l)))},25:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i}));var a="GET_LIST_TASK_SUCCESS",r="UPDATE_USER_INPUT",c="LOADING_TABLE",o="CREATE_COMMENT",i="TASK_SELECTED"},36:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(134),c=n(54),o=n.n(c),i=function(){return a.createElement("div",{className:"loading-component"},a.createElement("img",{src:o.a,alt:"logo"}),a.createElement(r.a,{color:"primary"}))}},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(24),r=n(41),c=n.n(r),o=(n(117),n(16)),i=n(19),u={pathApi:"https://api.stg.thuocsi.vn",httpRequest:function(e,t,n){var r="".concat(this.pathApi).concat(t),u=localStorage.getItem("user"),l=u?JSON.parse(u):null;return new Promise((function(t){c.a.isStarted()||c.a.start(),fetch(r,{method:e,body:n?JSON.stringify(n):null,headers:{Accept:"application/json","Content-Type":"application/json","X-USER-PHONE":l?l.phone:l,"X-USER-TOKEN":l?l.token:l}}).then((function(e){return e.json()})).then((function(e){if(401===e.status)throw{name:e.code,message:e.message};t(e)})).catch((function(e){var t="".concat(window.location.origin).concat(window.location.pathname,"#/login ");a.a.dispatch({type:i.b,content:{content:e.message,title:e.name,type:"error",onConfirm:function(){a.a.dispatch({type:i.a}),a.a.dispatch({type:o.c}),window.location.assign(t)}}})})).finally((function(){c.a.done()}))}))},get:function(e){return this.httpRequest("GET",e)},post:function(e,t){return this.httpRequest("POST",e,t)},delete:function(e){return this.httpRequest("DELETE",e)}}},48:function(e,t,n){"use strict";n.d(t,"c",(function(){return m.a})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"b",(function(){return A}));var a={};n.r(a),n.d(a,"BaseInput",(function(){return d})),n.d(a,"RadioInput",(function(){return f}));var r=n(20),c=n(0),o=n.n(c),i=n(139),u=n(140),l=n(141),s=n(142),d=function(e){var t=Object.assign({},e.field),n=e.form,a=n.touched,o=n.errors,d=(Object(r.a)(n,["touched","errors"]),Object(r.a)(e,["field","form"]));return c.createElement(i.a,null,d.label&&c.createElement(u.a,{for:d.id,className:d.labelClassName},d.label),c.createElement(l.a,Object.assign({},d,t,{invalid:Boolean(a[t.name]&&o[t.name]),autoComplete:"off"})),a[t.name]&&o[t.name]?c.createElement(s.a,null,o[t.name]):"")},f=function(e){var t=e.field,n=e.form,a=(n.isSubmitting,n.setFieldValue),o=(n.touched,n.errors,n.values),s=(e.disabled,Object(r.a)(e,["field","form","disabled"]));return c.createElement(i.a,{check:!0,inline:!0},c.createElement(u.a,{for:s.id},c.createElement(l.a,Object.assign({},s,{type:"radio",name:t.name,checked:o[t.name]===t.value,value:t.value,onChange:function(){return a(t.name,t.value)}})),s.label))},m=n(36),p=n(21),h=n(51),g=n(143),v=n(144),b=n(145),E="PREV",y=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r},O=c.memo((function(e){var t=c.useState(1),n=Object(h.a)(t,2),a=n[0],r=n[1],o=e.totalRecords,i=void 0===o?0:o,u=e.perpage,s=void 0===u?30:u,d=e.pageRangeDisplayed,f=void 0===d?2:d,m=e.size,O=void 0===m?"normal":m,_=e.current,k=e.onChangePage,j=e.perpageOptions,S=Math.ceil(i/s),w=c.useCallback((function(e){r(e),k(e)}),[k]);c.useEffect((function(){_!==a&&w(_)}),[w,_,a]);var C=function(e){return function(t){t.preventDefault(),e!==a&&w(e)}},T=function(){var e=2*f+3;if(S>e+2){var t=Math.max(2,a-f),n=Math.min(S-1,a+f),r=y(t,n),c=t>2,o=S-n>1,i=e-(r.length+1);switch(!0){case c&&!o:var u=y(t-i,t-1);r=[E].concat(Object(p.a)(u),Object(p.a)(r));break;case!c&&o:var l=y(n+1,n+i);r=[].concat(Object(p.a)(r),Object(p.a)(l),["NEXT"]);break;case c&&o:default:r=[E].concat(Object(p.a)(r),["NEXT"])}return[1].concat(Object(p.a)(r),[S])}return y(1,S)}();return i&&1!==S?c.createElement("div",{className:"d-flex align-items-center mt-3"},c.createElement(g.a,{size:O,listClassName:"m-0"},c.createElement(v.a,{disabled:1===a},c.createElement(b.a,{first:!0,onClick:C(1)})),T.map((function(e,t){return e===E?c.createElement(v.a,{key:t},c.createElement(b.a,{previous:!0,onClick:C(a-1)})):"NEXT"===e?c.createElement(v.a,{key:t},c.createElement(b.a,{next:!0,onClick:C(a+1)})):c.createElement(v.a,{key:t,active:e===a},c.createElement(b.a,{onClick:C(e)},e))})),c.createElement(v.a,{disabled:a===S},c.createElement(b.a,{last:!0,onClick:C(S)}))),j&&c.createElement(l.a,{type:"select",className:"w-auto ml-2",onChange:function(e){return console.log(e.target.value)},name:"select",bsSize:"sm"},j.map((function(e,t){return c.createElement("option",{key:"perpage_item_".concat(t),value:e}," ",e," / trang ")}))),c.createElement("b",{className:"ml-2"},i," task")):null})),_=n(146),k=n(49),j=n(23),S=o.a.memo((function(e){var t=e.name,n=e.target,a=e.classNames;return o.a.createElement("div",{className:a},o.a.createElement("div",{style:{backgroundColor:k.c.stringToHslColor(t),height:"30px",width:"30px",lineHeight:"30px",fontSize:"12px"},className:"rounded-circle text-center cursor-pointer",id:n},function(e){if(!e)return"KH";var t=Object(j.words)(e);return t.length>2?t[t.length-2].charAt(0)+t[t.length-1].charAt(0):t[0].charAt(0)+t[1].charAt(0)}(t)),o.a.createElement(_.a,{placement:"top",target:n},t||"Kh\xe1ch h\xe0ng"))})),w=n(31),C=c.memo((function(e){var t=e.datetime,n=e.live,a=void 0===n||n,r=e.locale,o=e.opts,i=c.useRef(null);return c.useEffect((function(){var e=i.current;return null!==e&&function(){var e=i.current;null!==e&&(Object(w.a)(e),a&&(e.setAttribute("datetime",""+((n=t)instanceof Date?n.getTime():n)),Object(w.c)(e,r,o)));var n}(),function(){null!==e&&Object(w.a)(e&&e)}})),c.createElement("time",{ref:i,style:{fontSize:"12px"}},Object(w.b)(new Date(t).toDateString(),r,o))})),T=n(74),N=n(9),R=c.memo((function(e){var t=e.role,n=void 0===t?"member":t,a=e.children,r=e.action,o=e.location,i=c.useMemo((function(){return Object(j.last)(o.pathname.split("/"))}),[o]);return c.createElement(c.Fragment,null,function(){if(n){var e=T[n];return!(Object(j.isEmpty)(e[i])||!Object(j.includes)(e[i],r))}return!1}()?a:null)})),A=Object(N.i)(R)},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={};n.r(a),n.d(a,"listTaskStatus",(function(){return u})),n.d(a,"listAssignGroup",(function(){return l}));var r,c=n(70),o=n(71),i=n(9),u=[{key:"pending",name:"Ch\u01b0a x\u1eed l\xfd"},{key:"assigned",name:"\u0110\xe3 ti\u1ebfp nh\u1eadn"},{key:"in_progress",name:"\u0110ang x\u1eed l\xfd"},{key:"done",name:"\u0110\xe3 x\u1eed l\xfd"},{key:"canceled",name:"\u0110\xe3 h\u1ee7y"}],l=[{key:"not_set_group",name:"Ch\u01b0a ch\u1ec9 \u0111\u1ecbnh"},{key:"member_group",name:"CS"},{key:"admin_group",name:"Admin"},{key:"finance_group",name:"K\u1ebf to\xe1n"},{key:"inventory_group",name:"Kho"},{key:"tech_group",name:"IT"}];!function(e){e.pending="pending",e.assigned="assigned",e.in_progress="in_progress",e.done="done",e.canceled="canceled"}(r||(r={}));var s=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getQueryparams",value:function(e){var t=this.queryParams(),n={};return e.forEach((function(e){return n[e]=t.get(e)})),n}},{key:"stringToHslColor",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return"hsl("+t%360+", 80%, 80%)"}},{key:"FormatDateBy_YYYY_MM_DD",value:function(e){var t=new Date(e||"");return"".concat(t.getDate(),"/").concat(t.getMonth()+1,"/").concat(t.getFullYear())}},{key:"converTime",value:function(e){var t=new Date(e||"");return"".concat(t.getHours(),":").concat(t.getMinutes())}},{key:"formatCurrency",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" \u20ab"}},{key:"queryParams",value:function(){return new URLSearchParams(Object(i.g)().search)}}]),e}();t.c=new s},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(39),r=n(16),c=n(19),o=function(){return function(e){a.a.get("/api/cs/v1/current_cs_account").then((function(t){localStorage.setItem("user",JSON.stringify({token:t.data.authentication_token,phone:t.data.phone_number})),e({type:r.a,payload:t.data})}))}},i=function(e){return function(t,n){var o=n().notification.alert;return new Promise((function(n){var i;(i=e,a.a.post("/api/cs/v1/cs_members/sign_in",i)).then((function(e){"OK"===e.code?(localStorage.setItem("user",JSON.stringify({token:e.data.authentication_token,phone:e.data.phone_number})),o&&t({type:c.a}),t({type:r.b,payload:e.data}),n()):n(e.message)}))}))}},u=function(){return function(e){a.a.delete("/api/cs/v1/cs_members/sign_out").then((function(t){"OK"===t.code&&e({type:r.c})}))}}},54:function(e,t,n){e.exports=n.p+"static/media/logo_thuocsi.96e06b43.svg"},74:function(e){e.exports=JSON.parse('{"admin":{"task-manager":["create:task"],"files":["create:file"]},"member":{},"tech":{},"finance":{"task-manager":["create:task"]}}')},79:function(e,t,n){e.exports=n(133)},88:function(e,t,n){},89:function(e,t,n){}},[[79,2,3]]]);
//# sourceMappingURL=main.ba3a1175.chunk.js.map