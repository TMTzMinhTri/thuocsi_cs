(this.webpackJsonpcs=this.webpackJsonpcs||[]).push([[1],{124:function(e,t,n){var a={"./files.reducer.ts":125,"./layout.reducer.ts":126,"./notification.reducer.ts":127,"./task_manager.reducer.ts":128};function r(e){var t=c(e);return n(t)}function c(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=124},125:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(72),c={listFile:[],totalFile:0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.a:return Object(a.a)(Object(a.a)({},e),{},{listFile:t.listFile,totalFile:t.totalFile});default:return Object(a.a)({},e)}}},126:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(18),c={user:null,isAuthenticated:!1,loading:!0};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:case r.a:return Object(a.a)(Object(a.a)({},e),{},{user:t.payload,isAuthenticated:!0,loading:!1});case r.c:return localStorage.clear(),Object(a.a)(Object(a.a)({},e),{},{loading:!1,isAuthenticated:!1,user:null});default:return e}}},127:function(e,t,n){"use strict";n.r(t);var a=n(4),r=n(22),c={alert:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.b:return Object(a.a)(Object(a.a)({},e),{},{alert:t.content});case r.a:return Object(a.a)(Object(a.a)({},e),{},{alert:null});default:return e}}},128:function(e,t,n){"use strict";n.r(t);var a=n(17),r=n(4),c=n(15),o=n(21),i=n.n(o),u={cs_tasks:[],total_count:0,user_detail:null,loading:!0,task_selected:null,userInput:{page:1,per_page:30,failure_type_ids:[],to:new Date,from:new Date,user_id:null,so_id:"",status:null,created_by_id:null,assigned_member_id:null},list_member:[],list_reason:[],taskBySearch:null};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c.g:return Object(r.a)(Object(r.a)({},e),{},{loading:!0});case c.f:return Object(r.a)(Object(r.a)({},e),{},{cs_tasks:t.payload.cs_tasks,total_count:t.payload.total_count,user_detail:t.payload.user_detail,loading:!1});case c.k:return Object(r.a)(Object(r.a)({},e),{},{userInput:t.payload});case c.b:return Object(r.a)(Object(r.a)({},e),{},{task_selected:t.task_selected,cs_tasks:t.cs_tasks});case c.i:return Object(r.a)(Object(r.a)({},e),{},{task_selected:t.payload});case c.e:return Object(r.a)(Object(r.a)({},e),{},{list_reason:t.payload});case c.d:return Object(r.a)(Object(r.a)({},e),{},{list_member:t.payload});case c.h:return Object(r.a)(Object(r.a)({},e),{},{taskBySearch:t.payload});case c.a:return Object(r.a)(Object(r.a)({},e),{},{taskBySearch:null});case c.c:var n=Object(a.a)(e.cs_tasks);return Object(r.a)(Object(r.a)({},e),{},{cs_tasks:[t.payload].concat(Object(a.a)(n))});case c.j:var o=Object(a.a)(e.cs_tasks),l=i.a.findIndex(o,(function(e){return e.id===t.payload.id}));return o[l]=Object(r.a)(Object(r.a)({},t.payload),{},{comments:e.task_selected.comments}),Object(r.a)(Object(r.a)({},e),{},{cs_tasks:o});default:return Object(r.a)({},e)}}},145:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),i=n(34),u=(n(92),n(93),n(94),n(95),n(26)),l=n(9),s=n(50),d=n(24),f=n(37),m=function(e){var t=e.component,n=e.loading,r=Object(d.a)(e,["component","loading"]);return a.createElement(l.b,Object.assign({},r,{render:function(e){var c=e.location;return n?a.createElement("div",{style:{width:"100vw",height:"100vh"}},a.createElement(f.a,null)):r.isAuthenticated?a.createElement(t,r):a.createElement(l.a,{to:{pathname:"/login",state:{from:c}}})}}))},p=n(54),h=n(19),b=n(56),g=n(81),v=n.n(g),E=r.a.lazy((function(){return Promise.all([n.e(0),n.e(4),n.e(5)]).then(n.bind(null,226))})),_=r.a.lazy((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,227))})),O=r.a.lazy((function(){return n.e(6).then(n.bind(null,224))})),j=r.a.lazy((function(){return n.e(7).then(n.bind(null,225))})),y=Object(i.b)((function(e){return{layoutState:e.layout,notification:e.notification}}),(function(e){return Object(h.b)({getUser:b.a},e)}))((function(e){var t=e.layoutState,n=e.getUser,a=e.notification;return r.a.useEffect((function(){n()}),[n]),r.a.createElement(u.a,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",{style:{width:"100vw",height:"100vh"}},r.a.createElement(s.c,null))},r.a.createElement(p.a,null),r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/",exact:!0,render:function(){return r.a.createElement(l.a,{to:"/task"})}}),r.a.createElement(l.b,{path:"/login",exact:!0,component:_}),r.a.createElement(l.b,{path:"/feedback",exact:!0,component:j}),r.a.createElement(m,{path:"/task",component:E,loading:t.loading,isAuthenticated:t.isAuthenticated}),r.a.createElement(l.b,{component:O})),a.alert&&r.a.createElement(v.a,a.alert,a.alert.content)))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var S=n(25);o.a.render(r.a.createElement(i.a,{store:S.a},r.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},15:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"k",(function(){return r})),n.d(t,"g",(function(){return c})),n.d(t,"b",(function(){return o})),n.d(t,"i",(function(){return i})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"j",(function(){return m}));var a="GET_LIST_TASK_SUCCESS",r="UPDATE_USER_INPUT",c="LOADING_TABLE",o="CREATE_COMMENT",i="TASK_SELECTED",u="GET_LIST_MEMBER",l="GET_LIST_REASON",s="SEARCH_TASK_SUCCESS",d="CLEAR_DATA_SEARCH_TASK",f="CREATE_NEW_TASK",m="UPDATE_DETAIL_TASK"},18:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return c}));var a="SIGN_IN_SUCCESS",r="SIGN_OUT",c="GET_CURRENT_USER_SUCCESS"},22:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a="SHOW_ALERT_ERROR",r="REMOVE_ALERT_ERROR"},25:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(19),r=n(80),c=n(124),o={};c.keys().forEach((function(e){var t=e.replace(/(\.\/|\.reducer\.ts)/g,"");o[t]=c(e).default}));var i=Object(a.c)(o),u=a.d,l=[r.a,function(e){return function(e){return function(t){return e(t)}}}],s=Object(a.e)(i,{},u(a.a.apply(void 0,l)))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(0),r=n(146),c=n(55),o=n.n(c),i=function(){return a.createElement("div",{className:"loading-component justify-content-center d-flex"},a.createElement("img",{src:o.a,alt:"logo"}),a.createElement(r.a,{color:"primary"}))}},38:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(25),r=n(43),c=n.n(r),o=(n(129),n(18)),i=n(22),u={pathApi:Object({NODE_ENV:"production",PUBLIC_URL:"/thuocsi_cs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_BASEURL||"https://api.stg.thuocsi.vn",httpRequest:function(e,t,n,r){var u="".concat(this.pathApi).concat(t),l=localStorage.getItem("user"),s=l?JSON.parse(l):null;return new Promise((function(t){n&&!c.a.isStarted()&&c.a.start(),fetch(u,{method:e,body:r?JSON.stringify(r):null,headers:{Accept:"application/json","Content-Type":"application/json","X-USER-PHONE":s?s.phone:s,"X-USER-TOKEN":s?s.token:s}}).then((function(e){return e.json()})).then((function(e){if(401===e.status)throw{name:e.code,message:e.message};t(e)})).catch((function(e){var t="".concat(window.location.origin).concat(window.location.pathname,"#/login ");a.a.dispatch({type:i.b,content:{content:e.message,title:e.name,type:"error",onConfirm:function(){a.a.dispatch({type:i.a}),a.a.dispatch({type:o.c}),window.location.assign(t)}}})})).finally((function(){c.a.done()}))}))},get:function(e,t){return this.httpRequest("GET",e,t)},post:function(e,t,n){return this.httpRequest("POST",e,n,t)},delete:function(e,t){return this.httpRequest("DELETE",e,t)},put:function(e,t,n){return this.httpRequest("PUT",e,n,t)}}},50:function(e,t,n){"use strict";n.d(t,"c",(function(){return m.a})),n.d(t,"f",(function(){return a})),n.d(t,"d",(function(){return O})),n.d(t,"a",(function(){return k})),n.d(t,"g",(function(){return C})),n.d(t,"b",(function(){return D})),n.d(t,"e",(function(){return x}));var a={};n.r(a),n.d(a,"BaseInput",(function(){return d})),n.d(a,"RadioInput",(function(){return f}));var r=n(24),c=n(0),o=n.n(c),i=n(150),u=n(151),l=n(152),s=n(153),d=function(e){var t=Object.assign({},e.field),n=e.form,a=n.touched,o=n.errors,d=(Object(r.a)(n,["touched","errors"]),Object(r.a)(e,["field","form"]));return c.createElement(i.a,null,d.label&&c.createElement(u.a,{for:d.id,className:d.labelClassName},d.label),c.createElement(l.a,Object.assign({},d,t,{invalid:Boolean(a[t.name]&&o[t.name]),autoComplete:"off"})),a[t.name]&&o[t.name]?c.createElement(s.a,null,o[t.name]):"")},f=function(e){var t=e.field,n=e.form,a=(n.isSubmitting,n.setFieldValue),o=(n.touched,n.errors,n.values),s=(e.disabled,Object(r.a)(e,["field","form","disabled"]));return c.createElement(i.a,{check:!0,inline:!0},c.createElement(u.a,{for:s.id},c.createElement(l.a,Object.assign({},s,{type:"radio",name:t.name,checked:o[t.name]===t.value,value:t.value,onChange:function(){return a(t.name,t.value)}})),s.label))},m=n(37),p=n(17),h=n(51),b=n(154),g=n(155),v=n(156),E="PREV",_=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,a=e,r=[];a<=t;)r.push(a),a+=n;return r},O=c.memo((function(e){var t=c.useState(1),n=Object(h.a)(t,2),a=n[0],r=n[1],o=e.totalRecords,i=void 0===o?0:o,u=e.perpage,s=void 0===u?30:u,d=e.pageRangeDisplayed,f=void 0===d?2:d,m=e.size,O=void 0===m?"normal":m,j=e.current,y=e.onChangePage,S=e.perpageOptions,k=Math.ceil(i/s),T=c.useCallback((function(e){r(e),y(e)}),[y]);c.useEffect((function(){j!==a&&T(j)}),[T,j,a]);var C=function(e){return function(t){t.preventDefault(),e!==a&&T(e)}},A=function(){var e=2*f+3;if(k>e+2){var t=Math.max(2,a-f),n=Math.min(k-1,a+f),r=_(t,n),c=t>2,o=k-n>1,i=e-(r.length+1);switch(!0){case c&&!o:var u=_(t-i,t-1);r=[E].concat(Object(p.a)(u),Object(p.a)(r));break;case!c&&o:var l=_(n+1,n+i);r=[].concat(Object(p.a)(r),Object(p.a)(l),["NEXT"]);break;case c&&o:default:r=[E].concat(Object(p.a)(r),["NEXT"])}return[1].concat(Object(p.a)(r),[k])}return _(1,k)}();return i&&1!==k?c.createElement("div",{className:"d-flex align-items-center justify-content-center mt-3"},c.createElement(b.a,{size:O,listClassName:"m-0 custom-pagination"},c.createElement(g.a,{disabled:1===a},c.createElement(v.a,{first:!0,onClick:C(1)})),A.map((function(e,t){return e===E?c.createElement(g.a,{key:t},c.createElement(v.a,{previous:!0,onClick:C(a-1)})):"NEXT"===e?c.createElement(g.a,{key:t},c.createElement(v.a,{next:!0,onClick:C(a+1)})):c.createElement(g.a,{key:t,active:e===a},c.createElement(v.a,{onClick:C(e)},e))})),c.createElement(g.a,{disabled:a===k},c.createElement(v.a,{last:!0,onClick:C(k)}))),S&&c.createElement(l.a,{type:"select",className:"w-auto ml-2",onChange:function(e){return console.log(e.target.value)},name:"select",bsSize:"sm"},S.map((function(e,t){return c.createElement("option",{key:"perpage_item_".concat(t),value:e}," ",e," / trang ")})))):null})),j=n(158),y=n(52),S=n(21),k=o.a.memo((function(e){var t=e.name,n=e.target,a=e.classNames;return o.a.createElement("div",{className:a},o.a.createElement("div",{style:{backgroundColor:y.c.stringToHslColor(t),height:"30px",width:"30px",lineHeight:"30px",fontSize:"12px"},className:"rounded-circle text-center cursor-pointer",id:n},function(e){if(!e)return"KH";var t=Object(S.words)(e);return t.length>2?t[t.length-2].charAt(0)+t[t.length-1].charAt(0):2===t.length?t[0].charAt(0)+t[1].charAt(0):t[0].charAt(0)}(t)),o.a.createElement(j.a,{placement:"top",target:n},t||"Kh\xe1ch h\xe0ng"))})),T=n(32),C=c.memo((function(e){var t=e.datetime,n=e.live,a=void 0===n||n,r=e.locale,o=e.opts,i=c.useRef(null);return c.useEffect((function(){var e=i.current;return null!==e&&function(){var e=i.current;null!==e&&(Object(T.a)(e),a&&(e.setAttribute("datetime",""+((n=t)instanceof Date?n.getTime():n)),Object(T.c)(e,r,o)));var n}(),function(){null!==e&&Object(T.a)(e&&e)}})),c.createElement("time",{ref:i,style:{fontSize:"12px"}},Object(T.b)(new Date(t).toDateString(),r,o))})),A=n(78),w=n(9),R=c.memo((function(e){var t=e.role,n=void 0===t?"member":t,a=e.children,r=e.action,o=e.location,i=c.useMemo((function(){return Object(S.last)(o.pathname.split("/"))}),[o]);return c.createElement(c.Fragment,null,function(){if(n){var e=A[n];return!(Object(S.isEmpty)(e[i])||!Object(S.includes)(e[i],r))}return!1}()?a:null)})),D=Object(w.j)(R),N=n(79),x=(n(123),function(e){var t=e.initData,n=e.onChange,a=c.useMemo((function(){return"Add a description ..."}),[]),r=c.useMemo((function(){return[["bold","italic","underline","strike","image"],[{align:[]}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}]]}),[]),o=Object(N.a)({modules:{counter:!0,toolbar:r},placeholder:a}),i=o.quill,u=o.quillRef,l=o.Quill;return l&&!i&&l.register("modules/counter",(function(e){e.on("text-change",(function(){n(e.root.innerHTML)}))})),c.useEffect((function(){i&&i.pasteHTML(t)}),[i,t]),c.createElement("div",{ref:u})})},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a={};n.r(a),n.d(a,"listAssignGroup",(function(){return u})),n.d(a,"listTaskStatus",(function(){return l}));var r,c=n(74),o=n(75),i=n(9),u={not_set_group:"Ch\u01b0a ch\u1ec9 \u0111\u1ecbnh",member_group:"CS",admin_group:"Admin",finance_group:"K\u1ebf to\xe1n",inventory_group:"Kho",tech_group:"IT"},l={pending:"Ch\u01b0a x\u1eed l\xfd",assigned:"\u0110\xe3 ti\u1ebfp nh\u1eadn",in_progress:"\u0110ang x\u1eed l\xfd",done:"\u0110\xe3 x\u1eed l\xfd",canceled:"\u0110\xe3 h\u1ee7y"},s=n(42),d=n.n(s);!function(e){e.pending="pending",e.assigned="assigned",e.in_progress="in_progress",e.done="done",e.canceled="canceled"}(r||(r={}));var f=function(){function e(){Object(c.a)(this,e)}return Object(o.a)(e,[{key:"getQueryparams",value:function(e){var t=this.queryParams(),n={};return e.forEach((function(e){return n[e]=t.get(e)})),n}},{key:"stringToHslColor",value:function(e){for(var t=0,n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return"hsl("+t%360+", 80%, 80%)"}},{key:"FormatDateBy_YYYY_MM_DD",value:function(e){var t=new Date(e||"");return d()(t).format("YYYY-MM-DD")}},{key:"converTime",value:function(e){var t=new Date(e||"");return d()(t).format("HH:mm")}},{key:"formatCurrency",value:function(e){return e.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1.")+" \u20ab"}},{key:"FormatDateBy_DD_MM_YYYY",value:function(e){var t=new Date(e||"");return d()(t).format("DD/MM/YYYY")}},{key:"queryParams",value:function(){return new URLSearchParams(Object(i.g)().search)}}]),e}();t.c=new f},55:function(e,t,n){e.exports=n.p+"static/media/logo_thuocsi.d8a7f08a.svg"},56:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return u}));var a=n(38),r=n(18),c=n(22),o=function(){return function(e){a.a.get("/api/cs/v1/current_cs_account",!0).then((function(t){localStorage.setItem("user",JSON.stringify({token:t.data.authentication_token,phone:t.data.phone_number})),e({type:r.a,payload:t.data})}))}},i=function(e){return function(t,n){var o=n().notification.alert;return new Promise((function(n){var i;(i=e,a.a.post("/api/cs/v1/cs_members/sign_in",i,!0)).then((function(e){"OK"===e.code?(localStorage.setItem("user",JSON.stringify({token:e.data.authentication_token,phone:e.data.phone_number})),o&&t({type:c.a}),t({type:r.b,payload:e.data}),n()):n(e.message)}))}))}},u=function(){return function(e){a.a.delete("/api/cs/v1/cs_members/sign_out",!0).then((function(t){"OK"===t.code&&e({type:r.c})}))}}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a="GET_LIST_FILE"},78:function(e){e.exports=JSON.parse('{"admin":{"all-case":["create:task"],"files":["create:file"]},"member":{},"tech":{},"finance":{"task-manager":["create:task"]}}')},84:function(e,t,n){e.exports=n(145)},93:function(e,t,n){},94:function(e,t,n){}},[[84,2,3]]]);